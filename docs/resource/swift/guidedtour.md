# Swiftãƒ„ã‚¢ãƒ¼

**Swiftã®æ©Ÿèƒ½ã¨æ§‹æ–‡ã‚’æ¢ç´¢ã—ã¾ã—ã‚‡ã†ã€‚**

æ–°ã—ã„è¨€èªã§ã¯ã€ä¼çµ±çš„ã«æœ€åˆã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ç”»é¢ã«ã€ŒHello, world!ã€ã¨ã„ã†æ–‡å­—ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚Swiftã§ã¯ã€ã“ã‚Œã‚’1è¡Œã§å®Ÿç¾ã§ãã¾ã™ï¼š

```swift
print("Hello, world!")
// "Hello, world!"ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’çŸ¥ã£ã¦ã„ã‚‹æ–¹ã«ã¯è¦‹æ…£ã‚ŒãŸæ§‹æ–‡ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€Swiftã§ã¯ã“ã®1è¡Œã®ã‚³ãƒ¼ãƒ‰ãŒå®Œå…¨ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ãªã‚Šã¾ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆã®å‡ºåŠ›ã‚„æ–‡å­—åˆ—ã®å‡¦ç†ã®ãŸã‚ã«åˆ¥é€”ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã§æ›¸ã‹ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹ãŸã‚ã€`main()`é–¢æ•°ã‚‚å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€å„æ–‡ã®æœ«å°¾ã«ã‚»ãƒŸã‚³ãƒ­ãƒ³ã‚’æ›¸ãå¿…è¦ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚

ã“ã®ãƒ„ã‚¢ãƒ¼ã§ã¯ã€Swiftã§ã•ã¾ã–ã¾ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¿ã‚¹ã‚¯ã‚’é”æˆã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå§‹ã‚ã‚‹ãŸã‚ã«å¿…è¦ãªæƒ…å ±ã‚’æä¾›ã—ã¾ã™ã€‚åˆ†ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã£ã¦ã‚‚å¿ƒé…ã—ãªã„ã§ãã ã•ã„ã€‚ã“ã®ãƒ„ã‚¢ãƒ¼ã§ç´¹ä»‹ã•ã‚Œã‚‹å†…å®¹ã¯ã€æœ¬æ›¸ã®å¾ŒåŠã§è©³ã—ãèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ã‚·ãƒ³ãƒ—ãƒ«ãªå€¤

`let`ã‚’ä½¿ã£ã¦å®šæ•°ã‚’ä½œæˆã—ã€`var`ã‚’ä½¿ã£ã¦å¤‰æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚å®šæ•°ã®å€¤ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ—¢çŸ¥ã§ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€å€¤ã‚’ä¸€åº¦ã ã‘ä»£å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€1åº¦æ±ºå®šã—ãŸå€¤ã‚’è¤‡æ•°ã®å ´æ‰€ã§ä½¿ã†ãŸã‚ã«åå‰ã‚’ä»˜ã‘ã‚‰ã‚Œã¾ã™ã€‚

```swift
var myVariable = 42
myVariable = 50
let myConstant = 42
```

å®šæ•°ã‚„å¤‰æ•°ã¯ã€ä»£å…¥ã™ã‚‹å€¤ã¨åŒã˜å‹ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã—ã‹ã—ã€å‹ã‚’æ˜ç¤ºçš„ã«æ›¸ãå¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å®šæ•°ã‚„å¤‰æ•°ã‚’ä½œæˆã™ã‚‹éš›ã«å€¤ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒå‹ã‚’æ¨è«–ã—ã¾ã™ã€‚ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€åˆæœŸå€¤ãŒæ•´æ•°ã§ã‚ã‚‹ãŸã‚ã€`myVariable`ã¯æ•´æ•°å‹ã¨æ¨è«–ã•ã‚Œã¾ã™ã€‚

åˆæœŸå€¤ã‹ã‚‰ååˆ†ãªæƒ…å ±ãŒå¾—ã‚‰ã‚Œãªã„å ´åˆï¼ˆã¾ãŸã¯åˆæœŸå€¤ãŒå­˜åœ¨ã—ãªã„å ´åˆï¼‰ã€å¤‰æ•°ã®å¾Œã«ã‚³ãƒ­ãƒ³ã¨å‹åã‚’è¨˜è¿°ã—ã¦å‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚

```swift
let implicitInteger = 70
let implicitDouble = 70.0
let explicitDouble: Double = 70
```

::: info Experiment
**Floatå‹**ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã€å€¤ã‚’4ã«è¨­å®šã™ã‚‹å®šæ•°ã‚’ä½œæˆã—ã¦ã¿ã¦ãã ã•ã„ã€‚
:::

å€¤ã¯è‡ªå‹•çš„ã«ä»–ã®å‹ã«å¤‰æ›ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç•°ãªã‚‹å‹ã¸å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€ç›®çš„ã®å‹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ˜ç¤ºçš„ã«ä½œæˆã—ã¾ã™ã€‚

```swift
let label = "The width is "
let width = 94
let widthLabel = label + String(width)
```

::: info Experiment
æœ€å¾Œã®è¡Œã‹ã‚‰`String`ã¸ã®å¤‰æ›ã‚’å–ã‚Šé™¤ã„ã¦ã¿ã¦ãã ã•ã„ã€‚ã©ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã‹ï¼Ÿ
:::

å€¤ã‚’æ–‡å­—åˆ—ã«å«ã‚ã‚‹ã•ã‚‰ã«ç°¡å˜ãªæ–¹æ³•ãŒã‚ã‚Šã¾ã™ï¼šå€¤ã‚’ä¸¸æ‹¬å¼§ã§å›²ã¿ã€ãã®å‰ã«ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ï¼ˆ`\`ï¼‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚ä¾‹ãˆã°ï¼š

```swift
let apples = 3
let oranges = 5
let appleSummary = "I have \(apples) apples."
let fruitSummary = "I have \(apples + oranges) pieces of fruit."
```

::: info Experiment
`\()`ã‚’ä½¿ã£ã¦ã€æµ®å‹•å°æ•°ç‚¹è¨ˆç®—ã‚’æ–‡å­—åˆ—ã«å«ã‚ãŸã‚Šã€èª°ã‹ã®åå‰ã‚’æŒ¨æ‹¶ã«å«ã‚ãŸã‚Šã—ã¦ã¿ã¦ãã ã•ã„ã€‚
:::

è¤‡æ•°è¡Œã«ã‚ãŸã‚‹æ–‡å­—åˆ—ã«ã¯ã€**3ã¤ã®äºŒé‡å¼•ç”¨ç¬¦ï¼ˆ`"""`ï¼‰** ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚å„è¡Œã®å…ˆé ­ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒé–‰ã˜ã‚‹å¼•ç”¨ç¬¦ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã¨ä¸€è‡´ã—ã¦ã„ã‚‹å ´åˆã€ãã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã¯å–ã‚Šé™¤ã‹ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ï¼š

```swift
let quotation = """
        Even though there's whitespace to the left,
        the actual lines aren't indented.
            Except for this line.
        Double quotes (") can appear without being escaped.

        I still have \(apples + oranges) pieces of fruit.
        """
```

è§’æ‹¬å¼§ï¼ˆ`[]`ï¼‰ã‚’ä½¿ã£ã¦é…åˆ—ã‚„è¾æ›¸ã‚’ä½œæˆã—ã€è¦ç´ ã¸ã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚„ã‚­ãƒ¼ã‚’è§’æ‹¬å¼§å†…ã«è¨˜è¿°ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚æœ€å¾Œã®è¦ç´ ã®å¾Œã«ã‚«ãƒ³ãƒã‚’è¿½åŠ ã—ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚

```swift
var fruits = ["strawberries", "limes", "tangerines"]
fruits[1] = "grapes"

var occupations = [
    "Malcolm": "Captain",
    "Kaylee": "Mechanic",
 ]
occupations["Jayne"] = "Public Relations"
```

é…åˆ—ã¯è¦ç´ ã‚’è¿½åŠ ã™ã‚‹ã¨è‡ªå‹•çš„ã«æ‹¡å¼µã•ã‚Œã¾ã™ã€‚

```swift
fruits.append("blueberries")
print(fruits)
// "["strawberries", "grapes", "tangerines", "blueberries"]" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

ç©ºã®é…åˆ—ã‚„è¾æ›¸ã‚’ä½œæˆã™ã‚‹å ´åˆã«ã‚‚è§’æ‹¬å¼§ã‚’ä½¿ã„ã¾ã™ã€‚é…åˆ—ã®å ´åˆã¯`[]`ã€è¾æ›¸ã®å ´åˆã¯`[:]`ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

```swift
fruits = []
occupations = [:]
```

æ–°ã—ã„å¤‰æ•°ã‚„å‹æƒ…å ±ã®ãªã„å ´æ‰€ã«ç©ºã®é…åˆ—ã‚„è¾æ›¸ã‚’ä»£å…¥ã™ã‚‹å ´åˆã¯ã€å‹ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```swift
let emptyArray: [String] = []
let emptyDictionary: [String: Float] = [:]
```

## åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼

ifã‚„switchã‚’ä½¿ã£ã¦æ¡ä»¶åˆ†å²ã‚’ä½œæˆã—ã€for-inã€whileã€ãŠã‚ˆã³repeat-whileã‚’ä½¿ã£ã¦ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã¾ã™ã€‚æ¡ä»¶ã‚„ãƒ«ãƒ¼ãƒ—å¤‰æ•°ã®å‘¨å›²ã®æ‹¬å¼§ã¯ä»»æ„ã§ã™ãŒã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å›²ã‚€æ³¢æ‹¬å¼§ã¯å¿…é ˆã§ã™ã€‚

```swift
let individualScores = [75, 43, 103, 87, 12]
var teamScore = 0
for score in individualScores {
    if score > 50 {
        teamScore += 3
    } else {
        teamScore += 1
    }
}
print(teamScore)
// "11" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

ifæ–‡ã§ã¯æ¡ä»¶ã¯å¿…ãš**ãƒ–ãƒ¼ãƒ«å¼**ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€`if score { ... }` ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¯æš—é»™çš„ã«0ã¨æ¯”è¼ƒã•ã‚Œã‚‹ã“ã¨ã¯ãªãã€ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

`=`ã®å³å´ã‚„`return`ã®å¾Œã«ifã‚„switchã‚’æ›¸ã„ã¦ã€æ¡ä»¶ã«åŸºã¥ã„ã¦å€¤ã‚’é¸ã¶ã“ã¨ãŒã§ãã¾ã™ã€‚

```swift
let scoreDecoration = if teamScore > 10 {
    "ğŸ‰"
} else {
    ""
}
print("Score:", teamScore, scoreDecoration)
// "Score: 11 ğŸ‰" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

ifæ–‡ã¨letã‚’çµ„ã¿åˆã‚ã›ã¦ã€**å€¤ãŒæ¬ è½ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹å€¤**ã‚’æ‰±ã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã®å€¤ã¯**ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«**ã¨ã—ã¦è¡¨ã•ã‚Œã¾ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã®å€¤ã¯ã€å€¤ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ã€`nil`ã§æ¬ è½ã‚’ç¤ºã™ã‹ã®ã„ãšã‚Œã‹ã§ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã¨ã—ã¦ãƒãƒ¼ã‚¯ã™ã‚‹ã«ã¯ã€å€¤ã®å‹ã®å¾Œã«**`?`** ã‚’ä»˜ã‘ã¾ã™ã€‚

```swift
var optionalString: String? = "Hello"
print(optionalString == nil)
// "false" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™

var optionalName: String? = "John Appleseed"
var greeting = "Hello!"
if let name = optionalName {
    greeting = "Hello, \(name)"
}
```

::: info Experiment
`optionalName`ã‚’`nil`ã«å¤‰æ›´ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã©ã®ã‚ˆã†ãªæŒ¨æ‹¶ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã‹ï¼Ÿã•ã‚‰ã«ã€`optionalName`ãŒ`nil`ã®å ´åˆã«åˆ¥ã®æŒ¨æ‹¶ã‚’è¨­å®šã™ã‚‹elseç¯€ã‚’è¿½åŠ ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
:::

ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å€¤ãŒ`nil`ã®å ´åˆã€æ¡ä»¶ã¯`false`ã¨ãªã‚Šã€æ³¢æ‹¬å¼§å†…ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚ãã†ã§ãªã‘ã‚Œã°ã€ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å€¤ãŒã‚¢ãƒ³ãƒ©ãƒƒãƒ—ã•ã‚Œã¦`let`ã®å¾Œã«æŒ‡å®šã—ãŸå®šæ•°ã«ä»£å…¥ã•ã‚Œã€ãã®ãƒ–ãƒ­ãƒƒã‚¯å†…ã§åˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å€¤ã‚’æ‰±ã†ã‚‚ã†1ã¤ã®æ–¹æ³•ã¯ã€**`??`æ¼”ç®—å­**ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å€¤ãŒ`nil`ã®å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

```swift
let nickname: String? = nil
let fullName: String = "John Appleseed"
let informalGreeting = "Hi \(nickname ?? fullName)"
```

åŒã˜åå‰ã‚’ä½¿ç”¨ã—ã¦å€¤ã‚’ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ã™ã‚‹**çŸ­ç¸®å½¢**ã‚‚ä½¿ç”¨ã§ãã¾ã™ã€‚

```swift
if let nickname {
    print("Hey, \(nickname)")
}
// ä½•ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚nicknameãŒnilã ã‹ã‚‰ã§ã™ã€‚
```

**switchæ–‡**ã¯ã‚ã‚‰ã‚†ã‚‹ç¨®é¡ã®ãƒ‡ãƒ¼ã‚¿ã‚„å¤šæ§˜ãªæ¯”è¼ƒæ“ä½œã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ãŠã‚Šã€æ•´æ•°ã‚„ç­‰ä¾¡æ€§ãƒ†ã‚¹ãƒˆã«é™å®šã•ã‚Œã¾ã›ã‚“ã€‚

```swift
let vegetable = "red pepper"
switch vegetable {
case "celery":
    print("Add some raisins and make ants on a log.")
case "cucumber", "watercress":
    print("That would make a good tea sandwich.")
case let x where x.hasSuffix("pepper"):
    print("Is it a spicy \(x)?")
default:
    print("Everything tastes good in soup.")
}
// "Is it a spicy red pepper?" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

::: info Experiment
`default`ã‚±ãƒ¼ã‚¹ã‚’å‰Šé™¤ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã©ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã‹ï¼Ÿ
:::

`let`ãŒãƒ‘ã‚¿ãƒ¼ãƒ³å†…ã§ä½¿ç”¨ã•ã‚Œã€ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ä¸€è‡´ã—ãŸå€¤ã‚’å®šæ•°ã«ä»£å…¥ã™ã‚‹æ–¹æ³•ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚

ä¸€è‡´ã™ã‚‹`switch`ã‚±ãƒ¼ã‚¹å†…ã®ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯`switch`æ–‡ã‹ã‚‰æŠœã‘å‡ºã—ã¾ã™ã€‚æ¬¡ã®ã‚±ãƒ¼ã‚¹ã«ã¯å‡¦ç†ãŒç¶™ç¶šã—ãªã„ãŸã‚ã€å„ã‚±ãƒ¼ã‚¹ã®æœ€å¾Œã«æ˜ç¤ºçš„ã«`break`ã‚’æ›¸ãå¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```swift
let interestingNumbers = [
    "Prime": [2, 3, 5, 7, 11, 13],
    "Fibonacci": [1, 1, 2, 3, 5, 8],
    "Square": [1, 4, 9, 16, 25],
]
var largest = 0
for (_, numbers) in interestingNumbers {
    for number in numbers {
        if number > largest {
            largest = number
        }
    }
}
print(largest)
// "25" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

::: info Experiment
`_` ã‚’å¤‰æ•°åã«ç½®ãæ›ãˆã¦ã€ã©ã®ç¨®é¡ã®æ•°å€¤ãŒæœ€ã‚‚å¤§ãã‹ã£ãŸã‹ã‚’è¨˜éŒ²ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
:::

```swift
var n = 2
while n < 100 {
    n *= 2
}
print(n)
// "128" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™

var m = 2
repeat {
    m *= 2
} while m < 100
print(m)
// "128" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

::: info Experiment
æ¡ä»¶ã‚’`m < 100`ã‹ã‚‰`m < 0`ã«å¤‰æ›´ã—ã¦ã€`while`ã¨`repeat-while`ãŒãƒ«ãƒ¼ãƒ—æ¡ä»¶ãŒæœ€åˆã‹ã‚‰`false`ã®å ´åˆã«ã©ã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚
:::

```swift
var total = 0
for i in 0..<4 {
    total += i
}
print(total)
// "6" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

`..<` ã‚’ä½¿ã†ã¨ä¸Šé™ã‚’å«ã¾ãªã„ç¯„å›²ã‚’ä½œæˆã§ãã€`...` ã‚’ä½¿ã†ã¨ä¸¡ç«¯ã®å€¤ã‚’å«ã‚€ç¯„å›²ã‚’ä½œæˆã§ãã¾ã™ã€‚

## é–¢æ•°ã¨ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£

`func`ã‚’ä½¿ã£ã¦é–¢æ•°ã‚’å®£è¨€ã—ã¾ã™ã€‚é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã«ã¯ã€é–¢æ•°åã®å¾Œã«æ‹¬å¼§ã§å›²ã‚“ã å¼•æ•°ã®ãƒªã‚¹ãƒˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚`->`ã‚’ä½¿ã£ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã¨å‹ã®å¾Œã«é–¢æ•°ã®æˆ»ã‚Šå€¤ã®å‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚

```swift
func greet(person: String, day: String) -> String {
    return "Hello \(person), today is \(day)."
}
greet(person: "Bob", day: "Tuesday")
```

::: info Experiment
`day`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã€ä»Šæ—¥ã®ãƒ©ãƒ³ãƒã®ç‰¹åˆ¥ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’æŒ¨æ‹¶ã«å«ã‚ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
:::

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€é–¢æ•°ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã‚’å¼•æ•°ãƒ©ãƒ™ãƒ«ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚ã‚«ã‚¹ã‚¿ãƒ å¼•æ•°ãƒ©ãƒ™ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã«ã¯ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã®å‰ã«è¨˜è¿°ã—ã¾ã™ã€‚å¼•æ•°ãƒ©ãƒ™ãƒ«ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã¯ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢`_`ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```swift
func greet(_ person: String, on day: String) -> String {
    return "Hello \(person), today is \(day)."
}
greet("John", on: "Wednesday")
```

ã‚¿ãƒ—ãƒ«ã‚’ä½¿ã£ã¦è¤‡åˆå€¤ã‚’ä½œæˆã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€é–¢æ•°ã‹ã‚‰è¤‡æ•°ã®å€¤ã‚’è¿”ã™å ´åˆã§ã™ã€‚ã‚¿ãƒ—ãƒ«ã®è¦ç´ ã«ã¯åå‰ã¾ãŸã¯ç•ªå·ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

```swift
func calculateStatistics(scores: [Int]) -> (min: Int, max: Int, sum: Int) {
    var min = scores[0]
    var max = scores[0]
    var sum = 0

    for score in scores {
        if score > max {
            max = score
        } else if score < min {
            min = score
        }
        sum += score
    }

    return (min, max, sum)
}
let statistics = calculateStatistics(scores: [5, 3, 100, 3, 9])
print(statistics.sum)
// "120" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
print(statistics.2)
// "120" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

é–¢æ•°ã¯ãƒã‚¹ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒã‚¹ãƒˆã•ã‚ŒãŸé–¢æ•°ã¯å¤–å´ã®é–¢æ•°ã§å®£è¨€ã•ã‚ŒãŸå¤‰æ•°ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚é•·ã„ã¾ãŸã¯è¤‡é›‘ãªé–¢æ•°ã®ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã™ã‚‹ãŸã‚ã«ãƒã‚¹ãƒˆé–¢æ•°ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

```swift
func returnFifteen() -> Int {
    var y = 10
    func add() {
        y += 5
    }
    add()
    return y
}
returnFifteen()
```

é–¢æ•°ã¯**ç¬¬ä¸€ç´šå‹**ã§ã™ã€‚ã“ã‚Œã¯ã€é–¢æ•°ãŒåˆ¥ã®é–¢æ•°ã‚’æˆ»ã‚Šå€¤ã¨ã—ã¦è¿”ã™ã“ã¨ãŒã§ãã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚

```swift
func makeIncrementer() -> ((Int) -> Int) {
    func addOne(number: Int) -> Int {
        return 1 + number
    }
    return addOne
}
var increment = makeIncrementer()
increment(7)
```

é–¢æ•°ã¯ä»–ã®é–¢æ•°ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```swift
func hasAnyMatches(list: [Int], condition: (Int) -> Bool) -> Bool {
    for item in list {
        if condition(item) {
            return true
        }
    }
    return false
}
func lessThanTen(number: Int) -> Bool {
    return number < 10
}
var numbers = [20, 19, 7, 12]
hasAnyMatches(list: numbers, condition: lessThanTen)
```

é–¢æ•°ã¯ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®ç‰¹åˆ¥ãªã‚±ãƒ¼ã‚¹ã§ã™ã€‚ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¯å¾Œã§å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã‚‹ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã§ã™ã€‚ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£å†…ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒä½œæˆã•ã‚ŒãŸã‚¹ã‚³ãƒ¼ãƒ—ã§åˆ©ç”¨å¯èƒ½ãªå¤‰æ•°ã‚„é–¢æ•°ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¯åå‰ã‚’ä»˜ã‘ãšã«æ›¸ãã“ã¨ãŒã§ãã€ã‚³ãƒ¼ãƒ‰ã‚’æ³¢æ‹¬å¼§`{}`ã§å›²ã¿ã¾ã™ã€‚å¼•æ•°ã¨æˆ»ã‚Šå€¤ã®å‹ã¯`in`ã§ã‚³ãƒ¼ãƒ‰æœ¬ä½“ã¨åˆ†é›¢ã—ã¾ã™ã€‚

```swift
numbers.map({ (number: Int) -> Int in
    let result = 3 * number
    return result
})
```

::: info Experiment
ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’å¤‰æ›´ã—ã¦ã€ã™ã¹ã¦ã®å¥‡æ•°ã®æ•°å€¤ã«å¯¾ã—ã¦0ã‚’è¿”ã™ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚
:::

ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¯ã•ã‚‰ã«ç°¡æ½”ã«è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®å‹ãŒã™ã§ã«åˆ†ã‹ã£ã¦ã„ã‚‹å ´åˆã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹ã‚„æˆ»ã‚Šå€¤ã®å‹ã‚’çœç•¥ã§ãã¾ã™ã€‚1ã¤ã®å¼ã ã‘ã‚’å«ã‚€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã§ã¯ã€æš—é»™çš„ã«ãã®å€¤ãŒæˆ»ã‚Šå€¤ã¨ãªã‚Šã¾ã™ã€‚

```swift
let mappedNumbers = numbers.map({ number in 3 * number })
print(mappedNumbers)
// "[60, 57, 21, 36]" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’åå‰ã§ã¯ãªãç•ªå·ã§å‚ç…§ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯éå¸¸ã«çŸ­ã„ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã§ä¾¿åˆ©ã§ã™ã€‚é–¢æ•°ã®æœ€å¾Œã®å¼•æ•°ã¨ã—ã¦ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’æ¸¡ã™å ´åˆã€æ‹¬å¼§ã®å¾Œã‚ã«è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒé–¢æ•°ã®å”¯ä¸€ã®å¼•æ•°ã§ã‚ã‚‹å ´åˆã¯ã€æ‹¬å¼§è‡ªä½“ã‚’çœç•¥ã§ãã¾ã™ã€‚

```swift
let sortedNumbers = numbers.sorted { $0 > $1 }
print(sortedNumbers)
// "[20, 19, 12, 7]" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

## ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚¯ãƒ©ã‚¹

`class`ã«ç¶šã‘ã¦ã‚¯ãƒ©ã‚¹åã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã§ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚¯ãƒ©ã‚¹å†…ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å®£è¨€ã¯å®šæ•°ã‚„å¤‰æ•°ã®å®£è¨€ã¨åŒæ§˜ã®æ›¸ãæ–¹ã‚’ã—ã¾ã™ã€‚ãƒ¡ã‚½ãƒƒãƒ‰ã‚„é–¢æ•°ã®å®£è¨€ã‚‚åŒæ§˜ã§ã™ã€‚

```swift
class Shape {
    var numberOfSides = 0
    func simpleDescription() -> String {
        return "A shape with \(numberOfSides) sides."
    }
}
```

::: info Experiment
`let`ã‚’ä½¿ã£ã¦å®šæ•°ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã€å¼•æ•°ã‚’å–ã‚‹åˆ¥ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
:::

ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã€ã‚¯ãƒ©ã‚¹åã®å¾Œã«æ‹¬å¼§`()`ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ä½œæˆã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã«ã¯ãƒ‰ãƒƒãƒˆæ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

```swift
var shape = Shape()
shape.numberOfSides = 7
var shapeDescription = shape.simpleDescription()
```

ã“ã®`Shape`ã‚¯ãƒ©ã‚¹ã«ã¯é‡è¦ãªã‚‚ã®ãŒæ¬ ã‘ã¦ã„ã¾ã™ï¼šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæ™‚ã®åˆæœŸåŒ–å‡¦ç†ã§ã™ã€‚åˆæœŸåŒ–å‡¦ç†ã‚’ä½œæˆã™ã‚‹ã«ã¯`init`ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```swift
class NamedShape {
    var numberOfSides: Int = 0
    var name: String

    init(name: String) {
       self.name = name
    }

    func simpleDescription() -> String {
       return "A shape with \(numberOfSides) sides."
    }
}
```

`self`ã‚’ä½¿ã£ã¦ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£`name`ã¨åˆæœŸåŒ–å¼•æ•°`name`ã‚’åŒºåˆ¥ã™ã‚‹æ–¹æ³•ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚åˆæœŸåŒ–å¼•æ•°ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæ™‚ã«é–¢æ•°å‘¼ã³å‡ºã—ã®ã‚ˆã†ã«æ¸¡ã•ã‚Œã¾ã™ã€‚ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¯å€¤ãŒä»£å…¥ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å®£è¨€æ™‚ï¼ˆ`numberOfSides`ã®ã‚ˆã†ã«ï¼‰ã‚„åˆæœŸåŒ–å‡¦ç†å†…ï¼ˆ`name`ã®ã‚ˆã†ã«ï¼‰ã§è¡Œã„ã¾ã™ã€‚

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç ´æ£„å‰ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†ãŒå¿…è¦ãªå ´åˆã€`deinit`ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã‚’ä½œæˆã—ã¾ã™ã€‚

ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€ã‚¯ãƒ©ã‚¹åã®å¾Œã«ã‚³ãƒ­ãƒ³`:`ã§ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹åã‚’ç¶šã‘ã¦è¨˜è¿°ã—ã¾ã™ã€‚ã‚¯ãƒ©ã‚¹ã¯æ¨™æº–ã®ãƒ«ãƒ¼ãƒˆã‚¯ãƒ©ã‚¹ã‚’ç¶™æ‰¿ã™ã‚‹å¿…è¦ã¯ãªã„ãŸã‚ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã‹ã©ã†ã‹ã¯ä»»æ„ã§ã™ã€‚

```swift
class Square: NamedShape {
    var sideLength: Double

    init(sideLength: Double, name: String) {
        self.sideLength = sideLength
        super.init(name: name)
        numberOfSides = 4
    }

    func area() -> Double {
        return sideLength * sideLength
    }

    override func simpleDescription() -> String {
        return "A square with sides of length \(sideLength)."
    }
}
let test = Square(sideLength: 5.2, name: "my test square")
test.area()
test.simpleDescription()
```

::: info Experiment
`NamedShape`ã‚’ç¶™æ‰¿ã™ã‚‹`Circle`ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã€åŠå¾„ã¨åå‰ã‚’åˆæœŸåŒ–å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€`area()`ãƒ¡ã‚½ãƒƒãƒ‰ã¨`simpleDescription()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
:::

ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¯**getter**ã¨**setter**ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```swift
class EquilateralTriangle: NamedShape {
    var sideLength: Double = 0.0

    init(sideLength: Double, name: String) {
        self.sideLength = sideLength
        super.init(name: name)
        numberOfSides = 3
    }

    var perimeter: Double {
        get {
             return 3.0 * sideLength
        }
        set {
            sideLength = newValue / 3.0
        }
    }

    override func simpleDescription() -> String {
        return "An equilateral triangle with sides of length \(sideLength)."
    }
}
var triangle = EquilateralTriangle(sideLength: 3.1, name: "a triangle")
print(triangle.perimeter)
// "9.3" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
triangle.perimeter = 9.9
print(triangle.sideLength)
// "3.3000000000000003" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

`perimeter`ã®setterã§ã¯ã€æ–°ã—ã„å€¤ã¯æš—é»™çš„ã«`newValue`ã¨ã„ã†åå‰ã§å‚ç…§ã•ã‚Œã¾ã™ã€‚æ˜ç¤ºçš„ãªåå‰ã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯ã€`set`ã®å¾Œã«æ‹¬å¼§å†…ã§åå‰ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

`EquilateralTriangle`ã‚¯ãƒ©ã‚¹ã®åˆæœŸåŒ–å‡¦ç†ã¯ã€æ¬¡ã®3ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚‰æˆã‚Šç«‹ã£ã¦ã„ã¾ã™ï¼š

1. ã‚µãƒ–ã‚¯ãƒ©ã‚¹ãŒå®£è¨€ã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã‚’è¨­å®šã™ã‚‹ã€‚
2. ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®åˆæœŸåŒ–å‡¦ç†ã‚’å‘¼ã³å‡ºã™ã€‚
3. ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã§å®šç¾©ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã‚’å¤‰æ›´ã™ã‚‹ã€‚

`willSet`ã‚„`didSet`ã‚’ä½¿ã†ã¨ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ãŒå¤‰æ›´ã•ã‚Œã‚‹å‰å¾Œã«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```swift
class TriangleAndSquare {
    var triangle: EquilateralTriangle {
        willSet {
            square.sideLength = newValue.sideLength
        }
    }
    var square: Square {
        willSet {
            triangle.sideLength = newValue.sideLength
        }
    }
    init(size: Double, name: String) {
        square = Square(sideLength: size, name: name)
        triangle = EquilateralTriangle(sideLength: size, name: name)
    }
}
var triangleAndSquare = TriangleAndSquare(size: 10, name: "another test shape")
print(triangleAndSquare.square.sideLength)
// "10.0" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
print(triangleAndSquare.triangle.sideLength)
// "10.0" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
triangleAndSquare.square = Square(sideLength: 50, name: "larger square")
print(triangleAndSquare.triangle.sideLength)
// "50.0" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å€¤ã‚’æ‰±ã†éš›ã«ã¯ã€`?`ã‚’ä½¿ã£ã¦ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¨˜è¿°ã§ãã¾ã™ã€‚`?`ã®å‰ã®å€¤ãŒ`nil`ã®å ´åˆã€ãã®å¾Œã®ã™ã¹ã¦ã®æ“ä½œã¯ç„¡è¦–ã•ã‚Œã€å¼å…¨ä½“ã®å€¤ã¯`nil`ã«ãªã‚Šã¾ã™ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã€ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å€¤ã¯ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ã•ã‚Œã€ãã®å¾Œã®æ“ä½œã¯ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸå€¤ã«å¯¾ã—ã¦è¡Œã‚ã‚Œã¾ã™ã€‚

```swift
let optionalSquare: Square? = Square(sideLength: 2.5, name: "optional square")
let sideLength = optionalSquare?.sideLength
```

## åˆ—æŒ™å‹ã¨æ§‹é€ ä½“

`enum`ã‚’ä½¿ç”¨ã—ã¦åˆ—æŒ™å‹ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚¯ãƒ©ã‚¹ã‚„ä»–ã®åå‰ä»˜ãå‹ã¨åŒæ§˜ã«ã€åˆ—æŒ™å‹ã«ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚’é–¢é€£ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```swift
enum Rank: Int {
    case ace = 1
    case two, three, four, five, six, seven, eight, nine, ten
    case jack, queen, king

    func simpleDescription() -> String {
        switch self {
        case .ace:
            return "ace"
        case .jack:
            return "jack"
        case .queen:
            return "queen"
        case .king:
            return "king"
        default:
            return String(self.rawValue)
        }
    }
}
let ace = Rank.ace
let aceRawValue = ace.rawValue
```

::: info Experiment
2ã¤ã®`Rank`å€¤ã‚’æ¯”è¼ƒã—ã¦ã€ç”Ÿã®å€¤ã‚’åŸºæº–ã«ã—ã¦æ¯”è¼ƒã™ã‚‹é–¢æ•°ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚
:::

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Swiftã¯ç”Ÿã®å€¤ã‚’0ã‹ã‚‰é †ã«1ãšã¤å¢—ã‚„ã—ã¦å‰²ã‚Šå½“ã¦ã¾ã™ãŒã€ã“ã®å‹•ä½œã¯æ˜ç¤ºçš„ã«å€¤ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§å¤‰æ›´ã§ãã¾ã™ã€‚ä¸Šã®ä¾‹ã§ã¯ã€`ace`ã«ç”Ÿã®å€¤1ã‚’ä¸ãˆã€æ®‹ã‚Šã®å€¤ã¯é †ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ã€‚æ–‡å­—åˆ—ã‚„æµ®å‹•å°æ•°ç‚¹æ•°ã‚‚åˆ—æŒ™å‹ã®ç”Ÿã®å‹ã¨ã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚ç”Ÿã®å€¤ã«ã¯`rawValue`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

`init?(rawValue:)`åˆæœŸåŒ–å­ã‚’ä½¿ã£ã¦ã€ç”Ÿã®å€¤ã‹ã‚‰åˆ—æŒ™å‹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã§ãã¾ã™ã€‚ä¸€è‡´ã™ã‚‹ã‚±ãƒ¼ã‚¹ãŒãªã„å ´åˆã¯`nil`ãŒè¿”ã•ã‚Œã¾ã™ã€‚

```swift
if let convertedRank = Rank(rawValue: 3) {
    let threeDescription = convertedRank.simpleDescription()
}
```

åˆ—æŒ™å‹ã®ã‚±ãƒ¼ã‚¹å€¤ã¯å®Ÿéš›ã®å€¤ã§ã‚ã‚Šã€ç”Ÿã®å€¤ã®åˆ¥ã®è¡¨ç¾ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ„å‘³ã®ã‚ã‚‹ç”Ÿã®å€¤ãŒãªã„å ´åˆã¯ã€æŒ‡å®šã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```swift
enum Suit {
    case spades, hearts, diamonds, clubs

    func simpleDescription() -> String {
        switch self {
        case .spades:
            return "spades"
        case .hearts:
            return "hearts"
        case .diamonds:
            return "diamonds"
        case .clubs:
            return "clubs"
        }
    }
}
let hearts = Suit.hearts
let heartsDescription = hearts.simpleDescription()
```

::: info Experiment
`Suit`ã«`color()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã€ã‚¹ãƒšãƒ¼ãƒ‰ã¨ã‚¯ãƒ©ãƒ–ã¯ã€Œblackã€ã€ãƒãƒ¼ãƒˆã¨ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ã¯ã€Œredã€ã‚’è¿”ã™ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚
:::

ä¸Šã®ä¾‹ã§ã¯ã€`hearts`ã‚±ãƒ¼ã‚¹ã¯2é€šã‚Šã®æ–¹æ³•ã§å‚ç…§ã•ã‚Œã¦ã„ã¾ã™ï¼š`hearts`å®šæ•°ã«å€¤ã‚’ä»£å…¥ã™ã‚‹éš›ã«ã¯`Suit.hearts`ã®å®Œå…¨ãªåå‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€`switch`å†…ã§ã¯çœç•¥å½¢ã®`.hearts`ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€`self`ãŒã™ã§ã«`Suit`å‹ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚å€¤ã®å‹ãŒã™ã§ã«åˆ†ã‹ã£ã¦ã„ã‚‹å ´åˆã€çœç•¥å½¢ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

åˆ—æŒ™å‹ã«ç”Ÿã®å€¤ãŒã‚ã‚‹å ´åˆã€ãã®å€¤ã¯å®£è¨€æ™‚ã«æ±ºå®šã•ã‚Œã€ç‰¹å®šã®ã‚±ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯å¸¸ã«åŒã˜ç”Ÿã®å€¤ã‚’æŒã¡ã¾ã™ã€‚ä¸€æ–¹ã€**é–¢é€£å€¤**ã‚’æŒã¤ã‚±ãƒ¼ã‚¹ã§ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã”ã¨ã«ç•°ãªã‚‹å€¤ã‚’æŒ‡å®šã§ãã¾ã™ã€‚é–¢é€£å€¤ã¯åˆ—æŒ™å‹ã®ã‚±ãƒ¼ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®æ ¼ç´ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã‚ˆã†ã«å‹•ä½œã—ã¾ã™ã€‚

```swift
enum ServerResponse {
    case result(String, String)
    case failure(String)
}

let success = ServerResponse.result("6:00 am", "8:09 pm")
let failure = ServerResponse.failure("Out of cheese.")

switch success {
case let .result(sunrise, sunset):
    print("Sunrise is at \(sunrise) and sunset is at \(sunset).")
case let .failure(message):
    print("Failure... \(message)")
}
// "Sunrise is at 6:00 am and sunset is at 8:09 pm." ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

::: info Experiment
`ServerResponse`ã«3ç•ªç›®ã®ã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€`switch`æ–‡ã«ã‚‚å¯¾å¿œã™ã‚‹ã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
:::

`ServerResponse`ã®å€¤ãŒ`switch`ã®ã‚±ãƒ¼ã‚¹ã«ãƒãƒƒãƒã™ã‚‹éš›ã«ã€é–¢é€£å€¤`sunrise`ã‚„`sunset`ãŒæŠ½å‡ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚

`struct`ã‚’ä½¿ç”¨ã—ã¦æ§‹é€ ä½“ã‚’ä½œæˆã—ã¾ã™ã€‚æ§‹é€ ä½“ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚„åˆæœŸåŒ–å­ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ç‚¹ã§ã‚¯ãƒ©ã‚¹ã¨ä¼¼ã¦ã„ã¾ã™ãŒã€é‡è¦ãªé•ã„ã¨ã—ã¦ã€**æ§‹é€ ä½“ã¯å¸¸ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¦æ¸¡ã•ã‚Œã€ã‚¯ãƒ©ã‚¹ã¯å‚ç…§ã§æ¸¡ã•ã‚Œã‚‹**ã¨ã„ã†ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚

```swift
struct Card {
    var rank: Rank
    var suit: Suit
    func simpleDescription() -> String {
        return "The \(rank.simpleDescription()) of \(suit.simpleDescription())"
    }
}
let threeOfSpades = Card(rank: .three, suit: .spades)
let threeOfSpadesDescription = threeOfSpades.simpleDescription()
```

::: info Experiment
`rank`ã¨`suit`ã®ã™ã¹ã¦ã®çµ„ã¿åˆã‚ã›ã‚’å«ã‚€ã€å®Œå…¨ãªãƒˆãƒ©ãƒ³ãƒ—ã®ãƒ‡ãƒƒã‚­ã‚’è¿”ã™é–¢æ•°ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚
:::

## ä¸¦è¡Œå‡¦ç†

`async`ã‚’ä½¿ç”¨ã—ã¦éåŒæœŸã«å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°ã‚’ãƒãƒ¼ã‚¯ã—ã¾ã™ã€‚

```swift
func fetchUserID(from server: String) async -> Int {
    if server == "primary" {
        return 97
    }
    return 501
}
```

éåŒæœŸé–¢æ•°ã‚’å‘¼ã³å‡ºã™å ´åˆã€`await`ã‚’å‰ã«æ›¸ã„ã¦å¾…æ©Ÿã‚’ç¤ºã—ã¾ã™ã€‚

```swift
func fetchUsername(from server: String) async -> String {
    let userID = await fetchUserID(from: server)
    if userID == 501 {
        return "John Appleseed"
    }
    return "Guest"
}
```

`async let`ã‚’ä½¿ã†ã¨ã€éåŒæœŸé–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ä»–ã®éåŒæœŸã‚³ãƒ¼ãƒ‰ã¨ä¸¦è¡Œã—ã¦å®Ÿè¡Œã§ãã¾ã™ã€‚è¿”ã•ã‚Œã‚‹å€¤ã‚’ä½¿ç”¨ã™ã‚‹éš›ã¯`await`ã‚’æ›¸ãã¾ã™ã€‚

```swift
func connectUser(to server: String) async {
    async let userID = fetchUserID(from: server)
    async let username = fetchUsername(from: server)
    let greeting = await "Hello \(username), user ID \(userID)"
    print(greeting)
}
```

`Task`ã‚’ä½¿ã£ã¦åŒæœŸã‚³ãƒ¼ãƒ‰ã‹ã‚‰éåŒæœŸé–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚ã“ã®å ´åˆã€æˆ»ã‚Šå€¤ã‚’å¾…ã¤å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```swift
Task {
    await connectUser(to: "primary")
}
// "Hello Guest, user ID 97" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

ã‚¿ã‚¹ã‚¯ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ç”¨ã—ã¦ä¸¦è¡Œã‚³ãƒ¼ãƒ‰ã‚’æ§‹é€ åŒ–ã—ã¾ã™ã€‚

```swift
let userIDs = await withTaskGroup(of: Int.self) { group in
    for server in ["primary", "secondary", "development"] {
        group.addTask {
            return await fetchUserID(from: server)
        }
    }

    var results: [Int] = []
    for await result in group {
        results.append(result)
    }
    return results
}
```

`actor`ã¯ã‚¯ãƒ©ã‚¹ã«ä¼¼ã¦ã„ã¾ã™ãŒã€éåŒæœŸé–¢æ•°ãŒåŒã˜`actor`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å®‰å…¨ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```swift
actor ServerConnection {
    var server: String = "primary"
    private var activeUsers: [Int] = []
    func connect() async -> Int {
        let userID = await fetchUserID(from: server)
        // ... ã‚µãƒ¼ãƒãƒ¼ã¨é€šä¿¡ ...
        activeUsers.append(userID)
        return userID
    }
}
```

`actor`ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã€ã¾ãŸã¯ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã¯`await`ã‚’ä½¿ç”¨ã—ã¦ã€ãã®ã‚³ãƒ¼ãƒ‰ãŒä»–ã®ã‚¿ã‚¹ã‚¯ã®å®Œäº†ã‚’å¾…ã¤å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚

```swift
let server = ServerConnection()
let userID = await server.connect()
```

## ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¨æ‹¡å¼µ

`protocol`ã‚’ä½¿ã£ã¦ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’å®£è¨€ã—ã¾ã™ã€‚

```swift
protocol ExampleProtocol {
     var simpleDescription: String { get }
     mutating func adjust()
}
```

ã‚¯ãƒ©ã‚¹ã€åˆ—æŒ™å‹ã€æ§‹é€ ä½“ã¯ã™ã¹ã¦ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’æ¡ç”¨ã§ãã¾ã™ã€‚

```swift
class SimpleClass: ExampleProtocol {
     var simpleDescription: String = "A very simple class."
     var anotherProperty: Int = 69105
     func adjust() {
          simpleDescription += "  Now 100% adjusted."
     }
}
var a = SimpleClass()
a.adjust()
let aDescription = a.simpleDescription


struct SimpleStructure: ExampleProtocol {
     var simpleDescription: String = "A simple structure"
     mutating func adjust() {
          simpleDescription += " (adjusted)"
     }
}
var b = SimpleStructure()
b.adjust()
let bDescription = b.simpleDescription
```

::: info Experiment
`ExampleProtocol`ã«åˆ¥ã®è¦ä»¶ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚`SimpleClass`ã¨`SimpleStructure`ãŒå¼•ãç¶šããƒ—ãƒ­ãƒˆã‚³ãƒ«ã«æº–æ‹ ã™ã‚‹ãŸã‚ã«å¿…è¦ãªå¤‰æ›´ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
:::

`SimpleStructure`ã§ã¯`mutating`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚ã“ã‚Œã¯æ§‹é€ ä½“ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚ä¸€æ–¹ã€ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã«ã¯`mutating`ã‚’ä»˜ã‘ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

`extension`ã‚’ä½¿ç”¨ã—ã¦ã€æ—¢å­˜ã®å‹ã«æ©Ÿèƒ½ï¼ˆæ–°ã—ã„ãƒ¡ã‚½ãƒƒãƒ‰ã‚„è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰ã‚’è¿½åŠ ã§ãã¾ã™ã€‚æ‹¡å¼µã‚’ä½¿ã†ã“ã¨ã§ã€ä»–ã§å®£è¨€ã•ã‚ŒãŸå‹ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸå‹ã«ãƒ—ãƒ­ãƒˆã‚³ãƒ«æº–æ‹ ã‚’è¿½åŠ ã§ãã¾ã™ã€‚

```swift
extension Int: ExampleProtocol {
    var simpleDescription: String {
        return "The number \(self)"
    }
    mutating func adjust() {
        self += 42
    }
}
print(7.simpleDescription)
// "The number 7" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

::: info Experiment
`Double`å‹ã«`absoluteValue`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹æ‹¡å¼µã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚
:::

ãƒ—ãƒ­ãƒˆã‚³ãƒ«åã¯ä»–ã®å‹ã¨åŒæ§˜ã«ä½¿ç”¨ã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ç•°ãªã‚‹å‹ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹éš›ã«ã€ã™ã¹ã¦ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒåŒã˜ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«æº–æ‹ ã—ã¦ã„ã‚‹å ´åˆã§ã™ã€‚

```swift
let protocolValue: any ExampleProtocol = a
print(protocolValue.simpleDescription)
// "A very simple class.  Now 100% adjusted." ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
// print(protocolValue.anotherProperty)  // ã‚³ãƒ¡ãƒ³ãƒˆã‚’å¤–ã™ã¨ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™
```

`protocolValue`ã®å®Ÿè¡Œæ™‚å‹ã¯`SimpleClass`ã§ã™ãŒã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã“ã‚Œã‚’`ExampleProtocol`å‹ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ãƒ—ãƒ­ãƒˆã‚³ãƒ«æº–æ‹ ä»¥å¤–ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«èª¤ã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

`Error`ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«æº–æ‹ ã—ãŸä»»æ„ã®å‹ã‚’ä½¿ç”¨ã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¾ã—ã¾ã™ã€‚

```swift
enum PrinterError: Error {
    case outOfPaper
    case noToner
    case onFire
}
```

`throw`ã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã€`throws`ã‚’ä½¿ã£ã¦é–¢æ•°ãŒã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚é–¢æ•°å†…ã§ã‚¨ãƒ©ãƒ¼ãŒæŠ•ã’ã‚‰ã‚Œã‚‹ã¨ã€é–¢æ•°ã¯å³åº§ã«æˆ»ã‚Šã€å‘¼ã³å‡ºã—å…ƒãŒã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã—ã¾ã™ã€‚

```swift
func send(job: Int, toPrinter printerName: String) throws -> String {
    if printerName == "Never Has Toner" {
        throw PrinterError.noToner
    }
    return "Job sent"
}
```

ã‚¨ãƒ©ãƒ¼ã®å‡¦ç†ã«ã¯ã„ãã¤ã‹ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚1ã¤ã¯`do-catch`ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã§ã™ã€‚`do`ãƒ–ãƒ­ãƒƒã‚¯å†…ã§ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã«ã¯`try`ã‚’å‰ã«æ›¸ãã¾ã™ã€‚`catch`ãƒ–ãƒ­ãƒƒã‚¯å†…ã§ã¯ã€ã‚¨ãƒ©ãƒ¼ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§`error`ã¨ã„ã†åå‰ã§å‚ç…§ã•ã‚Œã¾ã™ãŒã€åˆ¥ã®åå‰ã‚’ä»˜ã‘ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```swift
do {
    let printerResponse = try send(job: 1040, toPrinter: "Bi Sheng")
    print(printerResponse)
} catch {
    print(error)
}
// "Job sent" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

::: info Experiment
ãƒ—ãƒªãƒ³ã‚¿åã‚’`"Never Has Toner"`ã«å¤‰æ›´ã—ã¦ã€`send(job:toPrinter:)`é–¢æ•°ãŒã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚
:::

è¤‡æ•°ã®`catch`ãƒ–ãƒ­ãƒƒã‚¯ã‚’ç”¨æ„ã—ã¦ã€ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚`catch`ã®å¾Œã«`switch`ã®`case`ã¨åŒã˜ã‚ˆã†ã«ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ›¸ãã¾ã™ã€‚

```swift
do {
    let printerResponse = try send(job: 1440, toPrinter: "Gutenberg")
    print(printerResponse)
} catch PrinterError.onFire {
    print("I'll just put this over here, with the rest of the fire.")
} catch let printerError as PrinterError {
    print("Printer error: \(printerError).")
} catch {
    print(error)
}
// "Job sent" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

::: info Experiment
`do`ãƒ–ãƒ­ãƒƒã‚¯å†…ã§ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚æœ€åˆã®`catch`ãƒ–ãƒ­ãƒƒã‚¯ã€2ç•ªç›®ã€3ç•ªç›®ã®ãƒ–ãƒ­ãƒƒã‚¯ãŒã©ã®ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã™ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚
:::

åˆ¥ã®æ–¹æ³•ã¨ã—ã¦`try?`ã‚’ä½¿ç”¨ã—ã¦ã€çµæœã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã«å¤‰æ›ã§ãã¾ã™ã€‚é–¢æ•°ãŒã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã•ã‚Œã€çµæœã¯`nil`ã«ãªã‚Šã¾ã™ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã€çµæœã¯ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã«å«ã¾ã‚Œã¾ã™ã€‚

```swift
let printerSuccess = try? send(job: 1884, toPrinter: "Mergenthaler")
let printerFailure = try? send(job: 1885, toPrinter: "Never Has Toner")
```

`defer`ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€é–¢æ•°ãŒçµ‚äº†ã™ã‚‹ç›´å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’æ›¸ã‘ã¾ã™ã€‚`defer`ã®ã‚³ãƒ¼ãƒ‰ã¯é–¢æ•°ãŒã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ãŸå ´åˆã§ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

```swift
var fridgeIsOpen = false
let fridgeContent = ["milk", "eggs", "leftovers"]

func fridgeContains(_ food: String) -> Bool {
    fridgeIsOpen = true
    defer {
        fridgeIsOpen = false
    }

    let result = fridgeContent.contains(food)
    return result
}
if fridgeContains("banana") {
    print("Found a banana")
}
print(fridgeIsOpen)
// "false" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
```

## ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹

è§’æ‹¬å¼§`<>`å†…ã«åå‰ã‚’æ›¸ã„ã¦ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°ã‚„å‹ã‚’ä½œæˆã—ã¾ã™ã€‚

```swift
func makeArray<Item>(repeating item: Item, numberOfTimes: Int) -> [Item] {
    var result: [Item] = []
    for _ in 0..<numberOfTimes {
         result.append(item)
    }
    return result
}
makeArray(repeating: "knock", numberOfTimes: 4)
```

ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã€ã‚¯ãƒ©ã‚¹ã€åˆ—æŒ™å‹ã€æ§‹é€ ä½“ã‚‚ä½œæˆã§ãã¾ã™ã€‚

```swift
// Swiftæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®Optionalå‹ã®å†å®Ÿè£…
enum OptionalValue<Wrapped> {
    case none
    case some(Wrapped)
}
var possibleInteger: OptionalValue<Int> = .none
possibleInteger = .some(100)
```

`where`ã‚’ä½¿ç”¨ã—ã¦ã€ç‰¹å®šã®è¦ä»¶ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä¾‹ãˆã°ã€å‹ãŒãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«æº–æ‹ ã—ã¦ã„ã‚‹ã“ã¨ã‚„ã€2ã¤ã®å‹ãŒç­‰ã—ã„ã“ã¨ã€ã¾ãŸã¯ç‰¹å®šã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã‚’æŒã¤ã“ã¨ã‚’æŒ‡å®šã§ãã¾ã™ã€‚

```swift
func anyCommonElements<T: Sequence, U: Sequence>(_ lhs: T, _ rhs: U) -> Bool
    where T.Element: Equatable, T.Element == U.Element
{
    for lhsItem in lhs {
        for rhsItem in rhs {
            if lhsItem == rhsItem {
                return true
            }
        }
    }
   return false
}
anyCommonElements([1, 2, 3], [3])
```

::: info Experiment
`anyCommonElements(_:_:)`é–¢æ•°ã‚’ä¿®æ­£ã—ã¦ã€2ã¤ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã«å…±é€šã™ã‚‹è¦ç´ ã®é…åˆ—ã‚’è¿”ã™é–¢æ•°ã«ã—ã¦ãã ã•ã„ã€‚
:::

`<T: Equatable>`ã¨æ›¸ãã“ã¨ã¯ã€`<T> ... where T: Equatable`ã¨åŒã˜æ„å‘³ã§ã™ã€‚